## パスワードマネージャー
このパスワードマネージャーは、シェルスクリプトを使用して作成されたツールで、パスワードを安全に管理します。このツールでは、ユーザーがパスワードを簡単に保存し、後から呼び出すことができます。また、パスワードを暗号化する機能も使用されており、パスワードがファイル内で安全に保管されます。
## 機能
- パスワードの保存: サービス名、ユーザー名、パスワードをファイルに保存します。
- パスワードの取得: 保存されたパスワードをサービス名に基づいて取得できます。
- ファイルの暗号化: パスワードが保存されたファイルを暗号化します。
## インストール
以下の手順でパスワードマネージャーをセットアップしてください。

1. リポジトリをクローンします。
```
git clone https://github.com/toshinori-m/password_manager.git
cd password_manager
```
2. スクリプトに実行権限を付与します。
```
chmod +x password_manager.sh
```
3. GnuPGをインストールします。（ステップ3で必要）
```
sudo apt install gnupg
```
## 使用方法
### ステップ2の場合
ステップ2では、暗号化を行わないので、そのままスクリプトを実行して使用できます。
1. シェルスクリプトを実行します。
```
./password_manager.sh
```
2. 以下の選択肢が表示されます。
```
パスワードマネージャーへようこそ！
次の選択肢から入力してください(Add Password/Get Password/Exit)
```
以下の操作を行えます。
- Add Password: サービス名、ユーザー名、パスワードを入力して保存します。
- Get Password: 保存されたパスワードを取得します。
- Exit: プログラムを終了します。
### ステップ3の場合
ステップ3では、パスワードファイルの暗号化機能を追加します。初回実行時は、`.env`ファイルが存在しないため、最初に環境変数を追加します。

初回実行時：スクリプト実行後、暗号化/復号化に必要なパスワードを入力します。このとき`.env`ファイルをが自動生成され、パスフレーズを保存します。
```
./password_manager.sh
```
ターミナルの表示例：
```
パスワードマネージャーへようこそ！
パスワード管理ファイルのパスワードを入力してください: 
もう一度パスワードを入力してください: 
```
2回目以降: `.env`ファイルが生成された後は、パスワードの再入力は不要です。

操作方法はステップ2と同様です。

Add Password: サービス名、ユーザー名、パスワードを保存します。<br>
Get Password: 保存されたパスワードを取得します。<br>
Exit: プログラムを終了します。
## 実行例
Add Password の場合：
```
次の選択肢から入力してください(Add Password/Get Password/Exit)：Add Password
サービス名を入力してください：service
ユーザー名を入力してください：user
パスワードを入力してください：password
パスワードの追加は成功しました。
```
Get Password の場合：
```
次の選択肢から入力してください(Add Password/Get Password/Exit)：Get Password
サービス名を入力してください：example_service
サービス名：service
ユーザー名：user
パスワード：password
```
無効な選択肢を入力した場合：
```
次の選択肢から入力してください(Add Password/Get Password/Exit)：invalid_option
入力が間違えています。Add Password/Get Password/Exit から入力してください。
```
## 各ステップの詳細
### ステップ1: .envファイルのパスワード保存機能
- サービス名、ユーザー名、パスワードをファイルに保存します。
- 空の入力に対してはエラーメッセージが表示され、再入力を求めます。
### ステップ2: パスワード保存・取得機能
- 保存したパスワードをサービス名で検索し、取得する機能を追加しました。
- 無効な入力に対しては再入力を求めるメッセージを表示します。
### ステップ3: ファイル暗号化機能
- 初回実行時に、パスワードを2回入力して確認します。入力が一致しない場合、再入力を求められるようにしました。
- GnuPGを使用し、環境変数に保存されたパスフレーズで自動的に暗号化/復号化します。
- パスワードの取得時には、暗号化されたファイルを一時的に復号化して平文ファイルに保存し、その平文ファイルからパスワードを取得した後、平文ファイルは削除されます。暗号化されたファイル自体は、常に暗号化された状態を維持します。
